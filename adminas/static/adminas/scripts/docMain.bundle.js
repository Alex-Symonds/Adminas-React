(()=>{"use strict";var e={60:(e,t,n)=>{n.d(t,{Fl:()=>u,Qp:()=>d,Sx:()=>r,YG:()=>a,au:()=>i,sT:()=>l});const o="http_code",r="location",s=new Set([200,201,204]),c=-1;function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n={method:e,headers:(o=function(e){let t=null;if(document.cookie&&""!==document.cookie){const n=document.cookie.split(";");for(let o=0;o<n.length;o++){const r=n[o].trim();if(r.substring(0,10)===e+"="){t=decodeURIComponent(r.substring(10));break}}}return t}("csrftoken"),r=new Headers,r.append("X-CSRFToken",o),r),credentials:"include"};var o,r;return null!=t&&(n.body=JSON.stringify(t)),n}async function u(e,t){let n=await fetch(e,t).catch((e=>{console.log("Error: ",e)}));return await async function(e){const t=e.headers.get("content-type");if(t&&-1!==t.indexOf("application/json"))var n=await e.json();else n={};return n[o]=e.status,n[r]=e.headers.get("Location"),n}(n)}function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=function(e){return"object"!=typeof e?c:o in e?"string"==typeof e[o]?parseInt(e[o]):e[o]:c}(e);return n!==c&&(null===t?s.has(n):n===t)}function l(){return(new Date).toLocaleString("en-GB")}function d(){let e=document.createElement("button");e.classList.add("close");let t=document.createElement("span");return t.innerHTML="close",e.append(t),e}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,n),s.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=n(60);function t(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const o="documentResponseMessage",r="documentResponseMessage-error",s="documentResponseMessage-neutral",c="documentResponseMessage_content",a="documentResponseMessage_timestamp",u=document.querySelector(".documentWarnings"),i=function(){let t=document.querySelector(`.${o}`);return null===t&&(t=function(){const t=function(){const e=document.createElement("div");return e.classList.add(o),e}(),n=function(){const e=document.createElement("p");return e.classList.add(c),e}();t.append(n);const r=function(){const e=document.createElement("p");return e.classList.add(a),e}();t.append(r);const s=function(){const t=(0,e.Qp)();return t.classList.add("documentResponseMessage_closeBtn"),t}();return s.addEventListener("click",(()=>{t.remove()})),t.append(s),t}(),u.append(t)),t}(),l=function(){let e="Something went wrong, try refreshing the page",o=r;return"string"==typeof t?(e=t,o=n?r:s):"message"in t?(e=t.message,o=s):get_error_message().responded_with_error_reason(t)&&(e=`Error: ${get_error_message(t)}`,o=r),{contentStr:e,statusModifierCSS:o}}();!function(t,n){(function(e){e.classList.remove(r),e.classList.remove(s)})(t),t.classList.add(n.statusModifierCSS);const o=function(e){return e.querySelector(`.${c}`)}(i);null!==o&&(o.textContent=n.contentStr);const u=function(e){return e.querySelector(`.${a}`)}(i);null!==u&&(u.textContent=(0,e.sT)())}(i,l)}document.addEventListener("DOMContentLoaded",(()=>{const n=document.querySelector(".replaceIconTextButton");null!==n&&n.addEventListener("click",(()=>{!async function(){const n=(0,e.YG)("POST"),o=await(0,e.Fl)(`${URL_DOC_MAIN}?doc_id=${DOC_ID}&task=replace`,n);(0,e.au)(o,201)?window.location.href=o[e.Sx]:t(o)}()}));const o=document.querySelector(".revertIconTextButton");null!==o&&o.addEventListener("click",(()=>{!async function(){const n=(0,e.YG)("POST"),o=await(0,e.Fl)(`${URL_DOC_MAIN}?doc_id=${DOC_ID}&task=revert`,n);(0,e.au)(o,200)?window.location.href=o[e.Sx]:t(o)}()}))}))})()})();